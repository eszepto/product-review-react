(this.webpackJsonpproduct_review=this.webpackJsonpproduct_review||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(17),i=n.n(s),o=(n(47),n(19)),a=n(4),u=(n.p,n(99)),j=n(101),d=n(97),l=n(98),b=n(100),O=(n(48),n(2));var h=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),p=function(){var e=h();return Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(j.a,{position:"static",children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(l.a,{variant:"h6",className:e.title,children:"Products"}),Object(O.jsx)(b.a,{color:"inherit",children:"Log in"}),Object(O.jsx)(o.b,{to:"/login",children:Object(O.jsx)(b.a,{color:"inherit",children:"Sign up"})})]})})})},f=n(8),x=n(29),g=n.n(x).a,v=Object({NODE_ENV:"production",PUBLIC_URL:"/product-review-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_SERVICE_URI,m=function(){return g.get(v+"api/products").then((function(e){return console.log("api client fetched ".concat(e.data.length," items")),e.data})).catch((function(e){throw console.error(e.message),e}))},_=function(e){return g.get(v+"api/products/"+e).then((function(e){return e.data})).catch((function(e){throw console.error(e.message),e}))},w=function(e){return g.get(v+"api/products/"+e+"/reviews/").then((function(e){return console.log("api client fetched ".concat(e.data.length," items")),e.data})).catch((function(e){throw console.error(e.message),e}))},S=function(e,t){return g.post(v+"api/login/",{username:e,password:t})};var E=function(){var e=Object(c.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(0),i=Object(f.a)(s,2),a=i[0],u=i[1],j=Object(c.useState)([]),d=Object(f.a)(j,2),l=d[0],b=d[1];return Object(c.useEffect)((function(){m().then((function(e){b(e.products_list),r(e.page_number),u(e.num_pages)})).then((function(e){console.log(l)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Show all products here"}),Object(O.jsx)("br",{}),l.map((function(e){return Object(O.jsxs)(o.b,{to:"products/"+e.product_id,children:[e.product_name,Object(O.jsx)("br",{})]},e.product_id)})),Object(O.jsxs)("p",{children:["page ",n," of ",a]})]})};var C=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:e.review.user.username}),Object(O.jsx)("h1",{children:e.review.title}),Object(O.jsxs)("h3",{children:["Score : ",e.review.rating]}),Object(O.jsx)("p",{children:e.review.comment_text}),Object(O.jsx)("p",{children:"------------------------------------"})]})};var P=function(e){var t=Object(c.useState)(""),n=Object(f.a)(t,2),r=(n[0],n[1]),s=Object(c.useState)([]),i=Object(f.a)(s,2),o=i[0],a=i[1],u=Object(c.useState)(0),j=Object(f.a)(u,2),d=j[0],l=j[1],b=Object(c.useState)(0),h=Object(f.a)(b,2),p=h[0],x=h[1];return Object(c.useEffect)((function(){_(e.id).then((function(e){r(e.product_name)})),w(e.id).then((function(e){a(e.reviews_list),l(e.page_number),x(e.num_pages),console.log(e.reviews_list)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["page ",d," of ",p]}),o.map((function(e){return Object(O.jsx)(C,{review:e},e.review_id)}))]})};var T=function(e){var t=Object(c.useState)(""),n=Object(f.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(f.a)(i,2),a=o[0],u=o[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),l=d[0],b=d[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Username"}),Object(O.jsx)("input",{id:"usernameInput",onChange:function(e){return s(e.target.value)},name:"username"}),Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{id:"passwordInput",type:"password",onChange:function(e){return u(e.target.value)},name:"password"}),Object(O.jsx)("button",{onClick:function(){S(r,a).then((function(e){if(console.log(e),200==e.status)return e.data;400==e.status&&b("Invalid Username or Password")})).then((function(e){console.log(e),1==e.success?console.log("Success"):(console.log("Fail"),b("Invalid Username or Password"))}))},children:"Login"}),Object(O.jsx)("p",{children:l})]})};n(76);var I=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{className:"App-header"}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(p,{}),Object(O.jsxs)(a.c,{children:[Object(O.jsx)(a.a,{path:"/products/:product_id",render:function(e){var t=e.match;return Object(O.jsx)(P,{id:t.params.product_id})}}),Object(O.jsx)(a.a,{path:"/reviews"}),Object(O.jsx)(a.a,{path:"/reviews/:review_id"}),Object(O.jsx)(a.a,{path:"/login",component:T}),Object(O.jsx)(a.a,{path:"/",component:E})]})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),R()}},[[77,1,2]]]);
//# sourceMappingURL=main.9ac8761f.chunk.js.map